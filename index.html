/* ===== 追加: 林業テーマ（緑・茶・白 + アクセント=オレンジ）上書き ===== */
:root{
  /* ベース */
  --bg:        #ffffff;
  --panel:     #f7f5f0;
  --text:      #2b2b2b;
  --muted:     #6b7280;

  /* ブランド */
  --forest:    #2E6B3F;
  --earth:     #8B5E3C;

  /* アクセント（主ボタン等） */
  --accent:     #E97432;
  --accent-ink: #23160f;

  /* UIトークン */
  --border:    #e2ded6;
  --hover:     #f2efe8;
  --focus:     #ffeadb;
  --ok:        #0f9d58;
  --warn:      #f59e0b;
  --danger:    #dc2626;
  --shadow:    0 6px 20px rgba(36,24,10,.08);

  /* 入力やボタンの面色（ライト） */
  --control:   #ffffff;
}

/* ── 全体の色トーンをライトへ（レイアウトは既存のまま） ── */
html,body{ height:100% }
body{
  background:var(--bg);
  color:var(--text);
  font:15px/1.55 system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic UI",Meiryo,sans-serif;
}
*:focus-visible{ outline:3px solid var(--focus); outline-offset:2px }

/* パネル */
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
  box-shadow:var(--shadow);
}
.panel header{ border:0; background:rgba(0,0,0,.02) }
.panel .body{ padding:12px }

/* 入力・選択 */
label{ font-size:13px; color:var(--muted) }
input[type="number"],select,input[type="text"],input[type="search"],input[type="range"]{
  width:100%; padding:12px; min-height:44px;
  border-radius:12px; border:1px solid var(--border);
  background:var(--control); color:var(--text);
}
input[type="file"]{ width:100% }
input:focus,select:focus{ outline:2px solid var(--focus); border-color:var(--accent) }

/* ボタン（solid/ghost は index.html のクラスに合わせてあります） */
button{
  padding:12px 14px; min-height:44px;
  border-radius:12px; border:1px solid var(--border);
  background:var(--control); color:var(--text); cursor:pointer;
}
button.solid{ background:var(--accent); color:var(--accent-ink); border-color:transparent }
button.solid:hover{ filter:brightness(0.98) }
button.ghost{ background:#fff; color:var(--forest); border-color:var(--forest) }
button.ghost:hover{ background:var(--hover) }

/* ピル/チップ */
.pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:999px;
  background:#fff; border:1px solid var(--border); color:var(--text);
}
.small{ font-size:12.5px }

/* KPIカード（暗色→白系へ） */
.kpis{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px }
.kpi{
  background:#fff; border:1px solid var(--border);
  border-radius:12px; padding:10px 12px; box-shadow:var(--shadow);
}
.kpi .label{ font-size:12.5px; color:var(--muted) }
.kpi .val{ font-size:18px; font-weight:700; margin-top:4px; letter-spacing:.02em; color:var(--forest) }

/* 表（縞・ホバー） */
table{ width:100%; border-collapse:collapse }
thead th{ position:sticky; top:0; background:#fff; font-weight:700 }
th,td{ padding:9px 10px; border-bottom:1px solid var(--border); white-space:nowrap }
tbody tr:nth-child(even){ background:#faf8f3 }
tbody tr:hover{ background:#fff2e8 }

/* ドロップゾーン（暗色→白系へ） */
.dropzone{
  margin-top:8px; border:2px dashed var(--border);
  border-radius:12px; padding:18px; text-align:center;
  background:#fff; color:var(--muted); transition:all .15s;
}
.dropzone.dragover{
  border-color:var(--accent); background:#fff9f3; color:#a35424;
  box-shadow:0 0 0 3px rgba(233,116,50,.18) inset;
}

/* 凡例/サマリ（白ベース） */
.legend{
  background:#fff; border:1px solid var(--border);
  border-radius:10px; padding:6px 8px; line-height:1.2; max-width:320px;
  box-shadow:var(--shadow);
}
.legend .btn{
  font-size:12px; color:var(--text);
  border:1px solid var(--border); background:#fff; border-radius:8px; padding:4px 8px; cursor:pointer;
}
.legend .sectionTitle{ margin:6px 0 4px; font-size:12.5px; text-decoration:underline; color:var(--text) }
.legend .swatch{ width:12px; height:12px; border-radius:3px; border:1px solid var(--border); display:inline-block }
.legend .meta{ color:var(--muted); font-size:12px; margin-top:4px }

.speciesSummary{
  background:#fff; border:1px solid var(--border);
  border-radius:12px; padding:8px; max-width:380px; box-shadow:var(--shadow);
}
.speciesSummary .btn{
  font-size:12px; color:var(--text);
  border:1px solid var(--border); background:#fff; border-radius:8px; padding:4px 8px; cursor:pointer;
}
.speciesSummary th{ background:transparent; color:var(--text) }
.speciesSummary td{ font-size:13px }
.speciesSummary .meta{ color:var(--muted); font-size:12px; margin-top:4px }

/* タグ（優先度の色味は自然な色相に） */
.tag{ display:inline-block; padding:3px 8px; border-radius:999px; font-size:12.5px; border:1px solid var(--border); color:var(--text) }
.A{ color:#2579a6; border-color:#2579a6 }  /* 青緑 */
.B{ color:#6b8e23; border-color:#6b8e23 }  /* オリーブ */
.C{ color:#b06b19; border-color:#b06b19 }  /* ブラウン寄りオレンジ */

/* Leaflet/凡例の前面制御（既存レイアウトに合わせて保持） */
.legend, .speciesSummary { z-index:1000; }
.leaflet-control-container { z-index:995; }
#map .leaflet-pane, #map .leaflet-top, #map .leaflet-bottom { z-index:990; }
