/* ===== 林業テーマ：緑・茶・白 + アクセント=オレンジ（最終版・軽量） ===== */
:root{
  --bg:#fff; --panel:#f7f5f0; --text:#2b2b2b; --muted:#6b7280;
  --forest:#2E6B3F; --earth:#8B5E3C;
  --accent:#E97432; --accent-ink:#23160f;
  --border:#e2ded6; --hover:#f2efe8; --focus:#ffeadb;
  --ok:#0f9d58; --warn:#f59e0b; --danger:#dc2626;
  --shadow:0 6px 20px rgba(36,24,10,.08);
  --control:#fff;
}

/* レイアウトは既存どおり（containerのgridなどはそのまま使ってOK） */
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font:15px/1.55 system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic UI",Meiryo,sans-serif;
}
*:focus-visible{outline:3px solid var(--focus); outline-offset:2px}

header{padding:12px 16px; border-bottom:1px solid var(--border); display:flex; gap:12px; align-items:center; flex-wrap:wrap}
header h1{margin:0 8px 0 0; font-size:18px; letter-spacing:.02em}

/* panel */
.panel{background:var(--panel); border:1px solid var(--border); border-radius:14px; overflow:hidden; box-shadow:var(--shadow)}
.panel header{border:0; background:rgba(0,0,0,.02)}
.panel .body{padding:12px}

/* form */
label{font-size:13px; color:var(--muted)}
input[type="number"],select,input[type="text"],input[type="search"],input[type="range"]{
  width:100%; padding:12px; min-height:44px; border-radius:12px;
  border:1px solid var(--border); background:var(--control); color:var(--text);
}
input[type="file"]{width:100%}
input:focus,select:focus{outline:2px solid var(--focus); border-color:var(--accent)}

/* buttons（index.htmlの .solid / .ghost に対応） */
button{
  padding:12px 14px; min-height:44px; border-radius:12px; cursor:pointer;
  border:1px solid var(--border); background:var(--control); color:var(--text);
}
button.solid{background:var(--accent); color:var(--accent-ink); border-color:transparent}
button.solid:hover{filter:brightness(0.98)}
button.ghost{background:#fff; color:var(--forest); border-color:var(--forest)}
button.ghost:hover{background:var(--hover)}

/* pill */
.pill{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:#fff; border:1px solid var(--border); white-space:nowrap}
.small{font-size:12.5px}

/* KPI */
.kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:10px}
.kpi{background:#fff; border:1px solid var(--border); border-radius:12px; padding:10px 12px; box-shadow:var(--shadow)}
.kpi .label{font-size:12.5px; color:var(--muted)}
.kpi .val{font-size:18px; font-weight:700; margin-top:4px; letter-spacing:.02em; color:var(--forest)}

/* table */
table{width:100%; border-collapse:collapse}
thead th{position:sticky; top:0; background:#fff; font-weight:700}
th,td{padding:9px 10px; border-bottom:1px solid var(--border); white-space:nowrap}
tbody tr:nth-child(even){background:#faf8f3}
tbody tr:hover{background:#fff2e8}

/* legend / summary */
.legend,.speciesSummary{background:#fff; border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow)}
.legend{padding:6px 8px; max-width:320px; line-height:1.2}
.legend .btn,.speciesSummary .btn{font-size:12px; color:var(--text); border:1px solid var(--border); background:#fff; border-radius:8px; padding:4px 8px; cursor:pointer}
.legend .sectionTitle{margin:6px 0 4px; font-size:12.5px; text-decoration:underline; color:var(--text)}
.legend .swatch{width:12px; height:12px; border-radius:3px; border:1px solid var(--border); display:inline-block}
.legend .meta,.speciesSummary .meta{color:var(--muted); font-size:12px}

/* dropzone */
.dropzone{margin-top:8px; border:2px dashed var(--border); border-radius:12px; padding:18px; text-align:center; background:#fff; color:var(--muted); transition:.15s}
.dropzone.dragover{border-color:var(--accent); background:#fff9f3; color:#a35424; box-shadow:0 0 0 3px rgba(233,116,50,.18) inset}

/* priority tag */
.tag{display:inline-block; padding:3px 8px; border-radius:999px; font-size:12.5px; border:1px solid var(--border); color:var(--text)}
.A{color:#2579a6; border-color:#2579a6}
.B{color:#6b8e23; border-color:#6b8e23}
.C{color:#b06b19; border-color:#b06b19}

/* Leaflet 前面制御 */
.legend,.speciesSummary{z-index:1000}
.leaflet-control-container{z-index:995}
#map .leaflet-pane, #map .leaflet-top, #map .leaflet-bottom{z-index:990}
